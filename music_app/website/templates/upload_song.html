{% extends "base.html" %}

{% block title %} upload/Delete Page {% endblock %}

{% block search %} {% endblock %}


{% block content %}



<div class="mt-5" style="border: 5px solid black; ">

  <h1 class="mt-3">
    <center>To Upload A Song</center>
  </h1>
  <form method="POST" style="margin: 150px; margin-top: 70px;" action="{{ url_for('views.upload_song') }}"
    enctype="multipart/form-data">
    <div class="mb-3">
      <label for="song_name" class="form-label">Song Name</label>
      <input type="text" class="form-control" id="song_name" name="songName" placeholder="Enter Song Name" required>
    </div>
    <div class="mb-3">
      <label for="singer_name" class="form-label">Singer Name</label>
      <input type="text" class="form-control" id="singer_name" name="singer_name" placeholder=" Enter Singer Name">
    </div>



    <div class="mb-3">
      <label for="genre" class="form-label">Genre</label>
      <select class="form-select" id="genre" name="genre" required>
        <option value="" disabled selected>Select Genre</option>
        <option value="Rock">Rock</option>
        <option value="Pop">Pop</option>
        <option value="Wedding">Wedding</option>
        <option value="Emo">Emo</option>
        <option value="Romentic">Romentic</option>
        <option value="Hip-Hop">Hip-Hop</option>
        <option value="Other">Other</option>

      </select>
    </div>

    <div class="mb-3">
      <textarea id="lyrics" name="lyrics" rows="5" cols="100" placeholder="Write Lyrics Here"></textarea>
    </div>

    <div class="mb-3">
      <label for="duration" class="form-label">Duration</label>
      <input id="duration" name="duration" pattern="[0-9]{1,3}:[0-5][0-9]" placeholder="e.g., 03:30" required>
    </div>

    <div class="mb-3  mt-3 card  bg-light text-dark ">

      <input class="form-control" type="file" name="song" accept="audio/mpeg, audio/ogg, audio/wav" required>
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>

  </form>

</div>










<div class="mt-3 mb-3" style="border: 5px solid black;">
  <h1 class="mt-3 mb-3">
    <center>Uploaded Songs</center>
   </h1>

  <div class="container">
    <div class="row">
      {% for song in songs %}
      <div class="card mt-3 mb-3" style="border: 2px solid black;">
        <div class="card-header">
          {{ song.name }}
        </div>
        <div class="card-body ">
          <h5 class="card-title"><audio controls style="width: 100%;">
              <source src="{{ url_for('static', filename='songs/' + song.name) }}" type="audio/mpeg">
              Your browser does not support the audio element.
            </audio></h5>
          <p class="card-text">{{ song.singer }}
            <form action="{{ url_for('views.edit_song', song_id=song.id) }}" method="get">
              <button type="submit" class="btn btn-primary float-right mb-3">Edit</button>
            </form>
          <form action="{{ url_for('views.delete_song', song_id=song.id) }}" method="post">
            <button type="submit" class="btn btn-danger float-right">Delete</button>
          </form>
          </p>
        </div>
      </div>
      {% endfor %}

    </div>
  </div>

</div>


{% endblock %}